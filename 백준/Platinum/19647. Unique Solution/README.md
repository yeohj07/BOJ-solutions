# [Platinum II] Unique Solution - 19647 

[문제 링크](https://www.acmicpc.net/problem/19647) 

### 성능 요약

메모리: 2168 KB, 시간: 16 ms

### 분류

이분 매칭(bipartite_matching), 그래프 이론(graphs), 그래프 탐색(graph_traversal)

### 문제 설명

<p>국렬이는 위상수학 기말고사에서 고통을 받고 있다. 위상수학 교수님이 특이하셔서 문제 수가 <em>N</em>개에 답이 될 수 있는 경우가 <em>N</em>개가 있지만, 각 문제마다 답이 겹치는 경우는 없다.</p>

<p>예를 들어서 문제가 5개면 보기가 1, 2, 3, 4, 5가 있으며, 1번 문제의 답이 3이면 다른 문제에서는 답이 3인 경우는 없다.</p>

<p>그러나 국렬이의 수학 실력은 뛰어나지 않아서 각 문제마다 답이 될 수 있는 보기들을 유일하게 정할 수 없게 되었다. 그래도 각 문제마다 최소 1개에서 최대 5개의 정답이 될 수 있는 후보군들을 지니고 있다. 주어지는 후보군들 중에서 무조건 답이 존재한다고 가정한다.</p>

<p>후보군들의 정보를 받았을 때, 해당 후보군 만으로 모든 문제의 답을 유일하게 정할 수 있는지를 알아보자.</p>

### 입력 

 <p>첫 번째 줄에는 문제의 개수를 의미하는 정수 <em>N </em>(4 ≤ <em>N </em>≤ 1,000)이 주어진다.</p>

<p>두 번째 줄부터 <em>N </em>+ 1번째 줄까지 정답의 후보군에 대한 정보가 들어온다. <em>i </em>+ 1번째 줄에는 정수 <em>A<sub>i</sub></em> (1 ≤ <em>A<sub>i</sub></em> ≤ 5)와 <em>A<sub>i</sub></em>개의 정수가 입력된다. <em>A<sub>i</sub></em>는 <em>i</em>번째 문제의 정답의 후보군의 개수며, 뒤의 정수는 정답의 후보군들이 들어온다. 후보군들은 서로 다른 정수들로 1부터 <em>N</em>까지의 정수다.</p>

### 출력 

 <p>만약에 해당 후보군 만으로 모든 문제의 답을 유일하게 정할 수 있으면 첫 번째 줄에 1을 출력하고, 그 다음 줄에 각 문제에 대한 정답 <em>N</em>개를 1번 문제부터 순서대로 공백으로 구분해서 출력한다. 유일하게 결정할 수 없는 경우라면 첫 번째 줄에 <span style="color:#e74c3c;"><code><span style="background-color:#ecf0f1;">-1</span></code></span>을 출력한다.</p>

