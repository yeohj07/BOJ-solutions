# [Silver II] おせんべい - 5589 

[문제 링크](https://www.acmicpc.net/problem/5589) 

### 성능 요약

메모리: 3780 KB, 시간: 692 ms

### 분류

비트마스킹, 브루트포스 알고리즘, 그리디 알고리즘

### 제출 일자

2024년 6월 3일 19:11:29

### 문제 설명

<p>IOI製菓では， 創業以来の伝統の製法で煎餅（せんべい）を焼いている． この伝統の製法は， 炭火で一定時間表側を焼き， 表側が焼けると裏返して， 炭火で一定時間裏側を焼くというものである． この伝統を守りつつ， 煎餅を機械で焼いている． この機械は縦 R (1 ≦ R ≦ 10) 行, 横 C (1 ≦ C ≦ 10000) 列の長方形状に煎餅を並べて焼く． 通常は自動運転で， 表側が焼けたら一斉に煎餅を裏返し裏側を焼く．</p>

<p>ある日， 煎餅を焼いていると， 煎餅を裏返す直前に地震が起こり何枚かの煎餅が裏返ってしまった． 幸いなことに炭火の状態は適切なままであったが， これ以上表側を焼くと創業以来の伝統で定められている焼き時間を超えてしまい， 煎餅の表側が焼けすぎて商品として出荷できなくなる． そこで， 急いで機械をマニュアル操作に変更し， まだ裏返っていない煎餅だけを裏返そうとした． この機械は， 横の行を何行か同時に裏返したり縦の列を何列か同時に裏返したりすることはできるが， 残念なことに， 煎餅を１枚ごと裏返すことはできない．</p>

<p>裏返すのに時間がかかると， 地震で裏返らなかった煎餅の表側が焼けすぎて商品として出荷できなくなるので， 横の何行かを同時に１回裏返し， 引き続き， 縦の何列かを同時に１回裏返して， 表側を焼きすぎずに両面を焼くことのできる煎餅， つまり， 「出荷できる煎餅」の枚数をなるべく多くすることにした． 横の行を１行も裏返さない，あるいは， 縦の列を１列も裏返さない場合も考えることにする． 出荷できる煎餅の枚数の最大値を出力するプログラムを書きなさい．</p>

<p>地震の直後に， 煎餅が次の図のような状態になったとする． 黒い丸が表側が焼ける状態を， 白い丸が裏側が焼ける状態を表している． </p>

<p><img alt="" src="https://onlinejudgeimages.s3-ap-northeast-1.amazonaws.com/problem/5589/1.png" style="height:209px; width:400px"></p>

<p>1行目を裏返すと次の図のような状態になる． </p>

<p><img alt="" src="https://onlinejudgeimages.s3-ap-northeast-1.amazonaws.com/problem/5589/2.png" style="height:206px; width:400px"></p>

<p>さらに， 1列目と5列目を裏返すと次の図のような状態になる． この状態では， 出荷できる煎餅は9枚である． </p>

<p><img alt="" src="https://onlinejudgeimages.s3-ap-northeast-1.amazonaws.com/problem/5589/3.png" style="height:206px; width:400px"></p>

### 입력 

 <p>入力の1行目には2つの整数 R, C (1 ≦ R ≦ 10, 1 ≦ C ≦ 10 000) が空白を区切りとして書かれている． 続く R 行は地震直後の煎餅の状態を表す． (i+1) 行目 (1 ≦ i ≦ R) には， C 個の整数 a<sub>i,1</sub>, a<sub>i,2</sub>, ……, a<sub>i,C</sub> が空白を区切りとして書かれており， a<sub>i,j</sub> は i 行 j 列 の煎餅の状態を表している. a<sub>i,j</sub> が 1 なら表側が焼けることを， 0 なら裏側が焼けることを表す．</p>

### 출력 

 <p>提出する出力ファイルは， 出荷できる煎餅の最大枚数だけを含む1行からなる．</p>

